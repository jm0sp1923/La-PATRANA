{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/createUser.css' %}">
    <link rel="icon" href="{% static 'img/Logo-icono.svg' %}" type="image/png" />
</head>
<body class="bg-primary d-flex align-items-center justify-content-center vh-100">
    <div class="bg-white p-4 p-md-5 rounded shadow w-75 position-relative">
        <a href="{% url 'administrador' %}" class="btn btn-danger btn-sm position-absolute top-1 end-0 m-3">Volver</a>
        <h2 class="text-center font-weight-bold mb-4 text-dark">¡Regístrate ahora!</h2>
        <form method="POST">
            {% csrf_token %}
            <div class="row g-3">
                <div class="col-md-6">
                    <label for="username" class="form-label text-dark">Nombre de usuario</label>
                    <input type="text" id="username" name="username" class="form-control" placeholder="Nombre de usuario" required>
                </div>
                <div class="col-md-6">
                    <label for="name" class="form-label text-dark">Nombre</label>
                    <input type="text" id="name" name="name" class="form-control" placeholder="Nombre" required>
                </div>
                <div class="col-md-6">
                    <label for="lastname" class="form-label text-dark">Apellido</label>
                    <input type="text" id="lastname" name="lastname" class="form-control" placeholder="Apellido" required>
                </div>
                <div class="col-md-6">
                    <label for="email" class="form-label text-dark">Correo electrónico</label>
                    <input type="email" id="email" name="email" class="form-control" placeholder="ejemplo@correo.com" required>
                </div>
                <div class="col-md-6">
                    <label for="password" class="form-label text-dark">Contraseña</label>
                    <input type="password" id="password" name="password" class="form-control" placeholder="************" required>
                </div>
                <div class="col-md-6">
                    <label for="Tipo" class="form-label text-dark">Tipo de empleado</label>
                    <select id="Tipo" name="Tipo" class="form-select" required>
                        <option value="Mesero">Mesero</option>
                        <option value="Chef">Chef</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100 mt-3">Registrar usuario</button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    {% if success %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
                Swal.fire({
                    title: 'Creado con éxito',
                    icon: 'success',
                    timer: 1500,
                    showConfirmButton: false
                }).then(() => {
                    window.location.href = "{% url 'administrador' %}";
                });
        });
    </script>
    {% elif error %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
              Swal.fire({
                  title: 'Error al registrar el usuario',
                  text: '{{ error }}',
                  icon: 'error'
              });
      });
  </script>
    {% endif %}
</body>
</html>
